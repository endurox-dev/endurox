#
# Sample UBB Config, single machine
#
*RESOURCES
IPCKEY		46000 # some sample resource
DOMAINID	TEST1
MASTER		TEST1
MAXACCESSERS	2000
MAXSERVERS	1500
MAXSERVICES	2000
MAXGTT		1000
MODEL		SHM
SANITYSCAN	5
SCANUNIT	20
BLOCKTIME	30
NOTIFY		SIGNAL
LDBAL		Y

*MACHINES
"SOME-MACHINE"	LMID=TEST1
		TUXDIR="/some/folder/tuxedo12"
        APPDIR="/user90/bin"
        TUXCONFIG="/user90/conf/tuxconfig"
        ULOGPFX="/user90/log/ULOG"
        TLOGDEVICE="/user90/conf/TLOG"
        ENVFILE="./env_common.txt" 
        TLOGSIZE=1000
        MAXWSCLIENTS=300

*GROUPS

ADMINGRP	LMID=TEST1
		GRPNO=1
		
ORAGRP1	LMID=TEST1
		GRPNO=5
		TMSNAME=TMS_ORA_1
		TMSCOUNT=2
		OPENINFO="Oracle_XA:ORACLE_XA+DB=ROCKY+SqlNet=SID1+ACC=P/username/password+SesTM=10+LogDir=/user90/xalog+Threads=true"
		CLOSEINFO="Oracle_XA:CLOSE_STR"
		
ORAGRP2	LMID=TEST1
		GRPNO=6
		TMSNAME=TMS_ORA_2
		TMSCOUNT=2
		OPENINFO="Oracle_XA:ORACLE_XA+DB=ROCKY+SqlNet=SID1+ACC=P/username/password+SesTM=10+LogDir=/user90/xalog+Threads=true"
		CLOSEINFO="Oracle_XA:CLOSE_STR"

ORAGRP3	LMID=TEST1
		GRPNO=7
		TMSNAME=TMS_ORA_3
		TMSCOUNT=2
		OPENINFO="Oracle_XA:ORACLE_XA+DB=ROCKY+SqlNet=SID1+ACC=P/username/password+SesTM=10+LogDir=/user90/xalog+Threads=true"
		CLOSEINFO="Oracle_XA:CLOSE_STR"		

# all stuff on the same line
QGRP1	LMID=TEST1 GRPNO=8 TMSNAME=TMS_QM TMSCOUNT=2 OPENINFO="TUXEDO/QM:/user90/conf/QUEUEA:QSPA"

QGRP2  LMID=TEST1
   	GRPNO=9
   	TMSNAME=TMS_QM
   	TMSCOUNT=2
            	OPENINFO="TUXEDO/QM:/user90/conf/QUEUEB:QSPB"

QGRP3  LMID=TEST1
    GRPNO=10
   	TMSNAME=TMS_QM
   	TMSCOUNT=2
            	OPENINFO="TUXEDO/QM:/user90/conf/QUEUEC:QSPC"

DEFAULT:
	LMID=TEST1
DFLTGRP GRPNO=10 OPENINFO="NONE"

# Have some ddr groups:
DDR1 GRPNO=11 OPENINFO="NONE" TMSNAME="TMS"
DDR2 GRPNO=12 OPENINFO="NONE" TMSNAME="TMS"

#
# Servers section
#
*SERVERS # OK

DEFAULT:	CLOPT="-A"

# have events
TMSYSEVT	SRVGRP=ADMINGRP
		SRVID=10
		RESTART=N
		GRACE=900
		MAXGEN=5
		CLOPT="-A --"

# pull in restincl
JSL		SRVGRP=ADMINGRP
		SRVID=30
		CLOPT="-A -- -n	//127.0.0.1:9999"

# pull in restincl
WSL		SRVGRP=ADMINGRP
		SRVID=20
		CLOPT="-A -- -n	//127.0.0.1:1112"

DEFAULT:	SRVGRP=QGRP1
		RESTART=N
		REPLYQ=N
		CLOPT="-A"

TMQUEUE     	SRVID=40 CLOPT="-A -s QSPA:TMQUEUE -- "

DEFAULT:			SRVGRP=QGRP2
		        	RESTART=N
		        	REPLYQ=N
		        	GRACE=0
		        	CLOPT="-A"

TMQUEUE     		SRVID=50 MIN=2 MAX=10 CLOPT="-A -s QSPB:TMQUEUE -- "

DEFAULT:			SRVGRP=QGRP3
		        	MAXGEN=10
		        	RESTART=Y
		        	CLOPT="-A"

TMQUEUE     		SRVID=60 MIN=1 MAX=5 CLOPT="-A -s QSPC:TMQUEUE -- "

#
# Have some user processes
#
DEFAULT:	SRVGRP=DFLTGRP
		MIN=1
		MAX=5
		REPLYQ=Y
		MAXGEN=10
		RESTART=N
		CLOPT="-A"
		LMID=h

"atmi.sv90"	SRVID=100 MIN=2 MAX=4 CLOPT="-A --"

"atmi.sv90_2"	SRVID=200 MIN=2 MAX=4 CLOPT="-A -e /tmp/err.out -- -c \"HELLO \\\"WORLD\""
"atmi.sv90_3"	SRVID=300 MIN=2 MAX=4 CLOPT="--"

"atmi.sv90_3"	SRVID=400 MIN=2 MAX=4 SRVGRP=DDR1 CLOPT="-sTESTSV_DDR:TESTSV -- "
"atmi.sv90_4"	SRVID=500 MIN=2 MAX=4 SRVGRP=DDR2 CLOPT="-sTESTSV_DDR:TESTSV -- "
#
# Use As Q responder
#
exbenchsv  SRVID=600 MIN=1 MAX=1 SRVGRP=DDR1 CLOPT="-sQGRP1_2,QGRP2_2,QGRP3_2:EXBENCH -A -- -T"
exbenchsv SRVID=700 MIN=1 MAX=1 SRVGRP=DDR2 CLOPT="-A -- -T -eTESTEV"
exbenchsv SRVID=750 MIN=1 MAX=1 SRVGRP=DDR2 CLOPT="-A -- -eTESTEV -s TESTEV"
#
# Have some forward queues...
#
DEFAULT:			SRVGRP=QGRP1

TMQFORWARD  	SRVID=1100 MIN=1 MAX=1 CLOPT="-A -- -i 2 -qQGRP1_1"
TMQFORWARD  	SRVID=1120 MIN=1 MAX=1 CLOPT="-A -- -i 2 -qQGRP1_2 -t60"
TMQFORWARD  	SRVID=1130 MIN=2 MAX=3 CLOPT="-A -- -i 2 -qQGRP1_3 "

DEFAULT:			SRVGRP=QGRP2 MIN=10 MAX=10
TMQFORWARD      SRVID=1200 CLOPT="-A -- -i 2 -qQGRP1_1"
TMQFORWARD      SRVID=1220 CLOPT="-A -- -i 2 -qQGRP1_2 -t60"
TMQFORWARD      SRVID=1230 CLOPT="-A -- -i 2 -qQGRP1_3 "

DEFAULT:                        SRVGRP=QGRP3 MIN=10 MAX=10
TMQFORWARD      SRVID=1300 CLOPT="-A -- -i 2 -qQGRP1_1"
TMQFORWARD      SRVID=1320 CLOPT="-A -- -i 2 -qQGRP1_2 -t60"
TMQFORWARD      SRVID=1330 CLOPT="-A -- -i 2 -qQGRP1_3 "

#
# TODO: check merge defaults
#
orabin1       SRVID=2000 SRVGRP=ORAGRP1
orabin2		   SRVID=2100 SRVGRP=ORAGRP2
orabin3		   SRVID=2200 SRVGRP=ORAGRP3

#
# TODO: check strip defaults
#
*SERVICES   

DEFAULT:            AUTOTRAN=Y
                    TRANTIME=60

TESTSV_DDR ROUTING=ROUT1
EXBENCH		AUTOTRAN=Y ROUTING=ROUT2


*ROUTING

ROUT1	FIELD=T_STRING_10_FLD	BUFTYPE="FML32"  FIELDTYPE=STRING
		RANGES="'0':DDR1,'2':DDR2,*:*"

ROUT2	FIELD=T_STRING_10_FLD	BUFTYPE="FML32"  FIELDTYPE=STRING
		RANGES="'0':DDR1,'2':DDR2,*:*"


